<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Harry Potter Quiz</title>
    <style>
      body {
        font-family: "Comic Sans MS", cursive;
        margin: 0;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: url('map.jpg') center/cover no-repeat fixed;
      }

      .game-container {
        background: rgba(255, 255, 255, 0.95);
        padding: 2rem;
        border-radius: 25px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
        text-align: center;
        max-width: 800px;
        width: 90%;
        border: 8px solid #FF9F43;
        position: relative;
        z-index: 1;
      }

      .monster {
        font-size: 80px;
        margin: 10px;
      }

      .problem {
        font-size: 28px;
        margin: 20px 0;
        color: #2d3436;
        background: #FFB6C1;
        padding: 20px;
        border-radius: 15px;
      }

      .options {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        margin: 20px 0;
      }

      .option {
        background: #98FB98;
        border: none;
        padding: 15px;
        border-radius: 15px;
        color: #2d3436;
        font-size: 20px;
        cursor: pointer;
        transition: transform 0.2s;
      }

      .option:hover {
        transform: scale(1.05);
      }

      .stats {
        display: flex;
        justify-content: space-around;
        align-items: center;
        margin-top: 20px;
        padding: 15px;
        background: #FF9F43;
        border-radius: 15px;
        color: white;
        font-size: 20px;
      }

      .audio-controls {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      #musicBtn {
        background: none;
        border: none;
        color: white;
        font-size: 20px;
        cursor: pointer;
        padding: 0;
      }

      #audioSlider {
        width: 100px;
        height: 5px;
        cursor: pointer;
      }

      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
        z-index: 2;
      }

      .modal-content {
        background: white;
        padding: 2rem;
        border-radius: 15px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <audio id="bgMusic" src="hp.mp3" loop></audio>
    
    <div class="game-container">
      <div class="monster">üßô</div>
      <h2>Harry Potter Quiz</h2>
      <div class="problem" id="problem"></div>
      <div class="options" id="options"></div>
      <div class="stats">
        <div>Correct: <span id="score">0</span>/10 ‚úÖ</div>
        <div>Lives: <span id="lives">3</span>‚ù§Ô∏è</div>
        <div class="audio-controls">
          <button id="musicBtn" onclick="toggleMusic()">üîä</button>
          <input type="range" id="audioSlider" min="0" max="100" value="0">
        </div>
      </div>
    </div>

    <div class="modal" id="gameModal">
      <div class="modal-content">
        <h2 id="modalTitle"></h2>
        <p id="modalMessage"></p>
        <button class="option" onclick="resetGame()">Play Again</button>
      </div>
    </div>

    <script>
      const lotrQuestions = [
        {
          question: "Where was The Lord of the Rings filmed?",
          answer: "New Zealand",
          options: ["New Zealand", "Ireland", "Scotland", "Iceland"]
        },
        {
          question: "Who possesses the ring of power at the start of the trilogy?",
          answer: "Bilbo Baggins",
          options: ["Bilbo Baggins", "Frodo Baggins", "Gandalf", "Gollum"]
        },
        {
          question: "How many members make up the fellowship of the ring?",
          answer: "Nine",
          options: ["Nine", "Seven", "Eight", "Ten"]
        },
        {
          question: "Who has been following Sam and Frodo?",
          answer: "Gollum",
          options: ["Gollum", "Saruman", "Orcs", "Nazg√ªl"]
        },
        {
          question: "What are Sam and Frodo running out of as they journey to Mount Doom?",
          answer: "Water",
          options: ["Water", "Food", "Hope", "Strength"]
        },
        {
          question: "What is Gandalf's horse called?",
          answer: "Shadowfax",
          options: ["Shadowfax", "Arod", "Hasufel", "Brego"]
        },
        {
          question: "What is the name of Frodo's sword?",
          answer: "Sting",
          options: ["Sting", "Glamdring", "And√∫ril", "Narsil"]
        },
        {
          question: "What creature does Gandalf fight in Moria?",
          answer: "Balrog",
          options: ["Balrog", "Dragon", "Troll", "Warg"]
        },
        {
          question: "What is the name of the tower where Saruman resides?",
          answer: "Orthanc",
          options: ["Orthanc", "Barad-d√ªr", "Minas Tirith", "Cirith Ungol"]
        },
        {
          question: "What gift does Galadriel give to Frodo?",
          answer: "Light of E√§rendil",
          options: ["Light of E√§rendil", "Elven Cloak", "Lembas Bread", "Mithril Shirt"]
        },
        {
          question: "What is Aragorn's elvish name?",
          answer: "Elessar",
          options: ["Elessar", "Estel", "Thorongil", "Strider"]
        },
        {
          question: "What is the name of Gandalf's staff maker?",
          answer: "Narya",
          options: ["Narya", "Celebrimbor", "C√≠rdan", "F√´anor"]
        },
        {
          question: "What type of creature is Shelob?",
          answer: "Spider",
          options: ["Spider", "Worm", "Dragon", "Scorpion"]
        },
        {
          question: "What is the name of the hobbit settlement?",
          answer: "The Shire",
          options: ["The Shire", "Bree", "Rivendell", "Lothlorien"]
        },
        {
          question: "Who is the steward of Gondor during the War of the Ring?",
          answer: "Denethor",
          options: ["Denethor", "Boromir", "Faramir", "Th√©oden"]
        },
        {
          question: "What is the name of the giant spider-like siege engines used by Sauron's forces?",
          answer: "Grond",
          options: ["Grond", "Morgul", "Angmar", "Gorgoroth"]
        },
        {
          question: "What is the name of the mountain where the One Ring must be destroyed?",
          answer: "Mount Doom",
          options: ["Mount Doom", "Caradhras", "Weathertop", "Erebor"]
        },
        {
          question: "What race is Legolas?",
          answer: "Elf",
          options: ["Elf", "Man", "Dwarf", "Hobbit"]
        },
        {
          question: "What is the name of Aragorn's sword?",
          answer: "And√∫ril",
          options: ["And√∫ril", "Glamdring", "Sting", "Narsil"]
        },
        {
          question: "Who is the Lord of the Nazg√ªl?",
          answer: "Witch-king of Angmar",
          options: ["Witch-king of Angmar", "Sauron", "Saruman", "Mouth of Sauron"]
        },
        {
          question: "What is Samwise Gamgee's profession?",
          answer: "Gardener",
          options: ["Gardener", "Cook", "Farmer", "Merchant"]
        },
        {
          question: "What is the name of Frodo's home?",
          answer: "Bag End",
          options: ["Bag End", "Brandy Hall", "Great Smials", "Crickhollow"]
        },
        {
          question: "What is the name of the innkeeper at the Prancing Pony?",
          answer: "Barliman Butterbur",
          options: ["Barliman Butterbur", "Tom Bombadil", "Bill Ferny", "Harry Goatleaf"]
        },
        {
          question: "What is the name of the ancient forest the hobbits pass through?",
          answer: "Old Forest",
          options: ["Old Forest", "Fangorn Forest", "Mirkwood", "Druadan Forest"]
        },
        {
          question: "What creature helps Frodo cross the Morgul Vale?",
          answer: "Gollum",
          options: ["Gollum", "Sam", "An Eagle", "Faramir"]
        },
        {
          question: "What is the name of the bridge where Gandalf faces the Balrog?",
          answer: "Bridge of Khazad-d√ªm",
          options: ["Bridge of Khazad-d√ªm", "Last Bridge", "Old Ford", "Bridge of Mitheithel"]
        },
        {
          question: "What is the name of Th√©oden's sword?",
          answer: "Herugrim",
          options: ["Herugrim", "G√∫thwin√´", "And√∫ril", "Glamdring"]
        },
        {
          question: "Who is the king of the Wood-elves?",
          answer: "Thranduil",
          options: ["Thranduil", "Elrond", "Celeborn", "C√≠rdan"]
        },
        {
          question: "What is the name of Aragorn's mother?",
          answer: "Gilraen",
          options: ["Gilraen", "Arwen", "Galadriel", "Celebr√≠an"]
        },
        {
          question: "What is the name of the tower in Minas Tirith?",
          answer: "Tower of Ecthelion",
          options: ["Tower of Ecthelion", "White Tower", "Tower of Guard", "Citadel"]
        },
        {
          question: "What is the name of Boromir's horn?",
          answer: "Great Horn",
          options: ["Great Horn", "Horn of Gondor", "White Horn", "Horn of Calling"]
        },
        {
          question: "What is the name of the river that flows through Minas Tirith?",
          answer: "Anduin",
          options: ["Anduin", "Brandywine", "Greyflood", "Isen"]
        },
        {
          question: "What is the name of the forest where the Ents live?",
          answer: "Fangorn Forest",
          options: ["Fangorn Forest", "Mirkwood", "Old Forest", "Lothl√≥rien"]
        },
        {
          question: "What is the name of Gimli's father?",
          answer: "Gl√≥in",
          options: ["Gl√≥in", "√ìin", "Balin", "Dwalin"]
        },
        {
          question: "What gift does Galadriel give to Sam?",
          answer: "Box of Earth",
          options: ["Box of Earth", "Elven Rope", "Golden Belt", "Silver Brooch"]
        },
        {
          question: "What is the name of the pass that the Fellowship attempts to cross?",
          answer: "Caradhras",
          options: ["Caradhras", "Cirith Ungol", "High Pass", "Redhorn Pass"]
        },
        {
          question: "Who is the ruler of Lothl√≥rien?",
          answer: "Galadriel",
          options: ["Galadriel", "Celeborn", "Elrond", "Thranduil"]
        },
        {
          question: "What is the name of the giant eagle who rescues Gandalf?",
          answer: "Gwaihir",
          options: ["Gwaihir", "Landroval", "Meneldor", "Thorondor"]
        },
        {
          question: "What is the name of the hobbit who claims the Ring after Frodo?",
          answer: "Sam",
          options: ["Sam", "Merry", "Pippin", "Gollum"]
        },
        {
          question: "What is the name of the wizard who leads the White Council?",
          answer: "Saruman",
          options: ["Saruman", "Gandalf", "Radagast", "Alatar"]
        },
        {
          question: "What is the name of the river that borders the Shire?",
          answer: "Brandywine",
          options: ["Brandywine", "Anduin", "Greyflood", "Withywindle"]
        },
        {
          question: "What is the name of the mountain where the Dwarves awoke the Balrog?",
          answer: "Caradhras",
          options: ["Caradhras", "Erebor", "Zirakzigil", "Gundabad"]
        },
        {
          question: "What is the name of the horse that carries Frodo to Rivendell?",
          answer: "Asfaloth",
          options: ["Asfaloth", "Shadowfax", "Bill", "Hasufel"]
        },
        {
          question: "What is the name of the bridge in Minas Tirith?",
          answer: "Great Gate",
          options: ["Great Gate", "Stone Bridge", "White Bridge", "Gate of Kings"]
        },
        {
          question: "Who is the keeper of the Ring before Bilbo?",
          answer: "Gollum",
          options: ["Gollum", "D√©agol", "Isildur", "Sauron"]
        },
        {
          question: "What is the name of the tower where Frodo is held captive?",
          answer: "Cirith Ungol",
          options: ["Cirith Ungol", "Minas Morgul", "Barad-d√ªr", "Orthanc"]
        },
        {
          question: "What is the name of the sword that cut the Ring from Sauron's hand?",
          answer: "Narsil",
          options: ["Narsil", "And√∫ril", "Glamdring", "Orcrist"]
        },
        {
          question: "What is the name of the door to the Mines of Moria?",
          answer: "Doors of Durin",
          options: ["Doors of Durin", "West Gate", "Dimrill Gate", "East Gate"]
        },
        {
          question: "What is the name of the creature that guards the pool outside Moria?",
          answer: "Watcher in the Water",
          options: ["Watcher in the Water", "Kraken", "Sea Serpent", "Water Drake"]
        },
        {
          question: "What is the name of the valley where Rivendell is located?",
          answer: "Imladris",
          options: ["Imladris", "Erebor", "Anduin", "Ithilien"]
        },
        {
          question: "What is the name of the forest near Helm's Deep?",
          answer: "Huorn Wood",
          options: ["Huorn Wood", "Fangorn Forest", "Druadan Forest", "Old Forest"]
        },
        {
          question: "What is the name of the mountain where the Ring was forged?",
          answer: "Orodruin",
          options: ["Orodruin", "Mount Doom", "Erebor", "Caradhras"]
        },
        {
          question: "What is the name of the river that flows through Mirkwood?",
          answer: "Forest River",
          options: ["Forest River", "Anduin", "Celebrant", "Nimrodel"]
        },
        {
          question: "What is the name of the tower where the palant√≠r is kept?",
          answer: "Orthanc",
          options: ["Orthanc", "Barad-d√ªr", "Minas Tirith", "Cirith Ungol"]
        },
        {
          question: "What is the name of the horse that Sam rides?",
          answer: "Bill",
          options: ["Bill", "Shadowfax", "Arod", "Hasufel"]
        },
        {
          question: "What is the name of the bridge that the Fellowship crosses in Lothl√≥rien?",
          answer: "Bridge of Nimrodel",
          options: ["Bridge of Nimrodel", "Silver Bridge", "Golden Bridge", "Celebrant Bridge"]
        },
        {
          question: "What is the name of the mountain where the Eagles live?",
          answer: "Misty Mountains",
          options: ["Misty Mountains", "Lonely Mountain", "Grey Mountains", "White Mountains"]
        },
        {
          question: "What is the name of the sword that Bilbo gives to Frodo?",
          answer: "Sting",
          options: ["Sting", "Glamdring", "Orcrist", "And√∫ril"]
        },
        {
          question: "What is the name of the river that flows through Gondor?",
          answer: "Anduin",
          options: ["Anduin", "Brandywine", "Greyflood", "Isen"]
        },
        {
          question: "What is the name of the mountain where the Dwarves live?",
          answer: "Lonely Mountain",
          options: ["Lonely Mountain", "Misty Mountains", "Iron Hills", "Blue Mountains"]
        },
        {
          question: "What is the name of the forest where the Elves live?",
          answer: "Lothl√≥rien",
          options: ["Lothl√≥rien", "Mirkwood", "Fangorn", "Old Forest"]
        },
        {
          question: "What is the name of the bridge that the Fellowship crosses in Moria?",
          answer: "Bridge of Khazad-d√ªm",
          options: ["Bridge of Khazad-d√ªm", "Last Bridge", "First Bridge", "Stone Bridge"]
        },
        {
          question: "What is the name of the mountain where the Ring is destroyed?",
          answer: "Mount Doom",
          options: ["Mount Doom", "Orodruin", "Caradhras", "Erebor"]
        },
        {
          question: "What is the name of the tower where Sauron lives?",
          answer: "Barad-d√ªr",
          options: ["Barad-d√ªr", "Orthanc", "Minas Tirith", "Cirith Ungol"]
        },
        {
          question: "What is the name of the horse that Legolas rides?",
          answer: "Arod",
          options: ["Arod", "Shadowfax", "Hasufel", "Bill"]
        },
        {
          question: "What is the name of the bridge that connects Osgiliath?",
          answer: "Bridge of Osgiliath",
          options: ["Bridge of Osgiliath", "Stone Bridge", "Great Bridge", "River Bridge"]
        },
        {
          question: "What is the name of the mountain where the Balrog lives?",
          answer: "Zirakzigil",
          options: ["Zirakzigil", "Caradhras", "Celebdil", "Fanuidhol"]
        },
        {
          question: "What is the name of the sword that Aragorn carries?",
          answer: "And√∫ril",
          options: ["And√∫ril", "Narsil", "Glamdring", "Sting"]
        },
        {
          question: "What is the name of the river that flows through Rohan?",
          answer: "Entwash",
          options: ["Entwash", "Anduin", "Isen", "Snowbourn"]
        },
        {
          question: "What is the name of the mountain where the Beacons of Gondor are lit?",
          answer: "Amon D√Æn",
          options: ["Amon D√Æn", "Mindolluin", "Eilenach", "Erelas"]
        },
        {
          question: "What is the name of the forest where the Ents march to war?",
          answer: "Fangorn Forest",
          options: ["Fangorn Forest", "Old Forest", "Mirkwood", "Druadan Forest"]
        },
        {
          question: "What is the name of the bridge where Faramir defends?",
          answer: "Causeway Forts",
          options: ["Causeway Forts", "Osgiliath Bridge", "Pelennor Bridge", "River Bridge"]
        },
        {
          question: "What is the name of the mountain where the Ring-wraiths dwell?",
          answer: "Minas Morgul",
          options: ["Minas Morgul", "Mount Doom", "Cirith Ungol", "Barad-d√ªr"]
        },
        {
          question: "What is the name of the sword that Gandalf carries?",
          answer: "Glamdring",
          options: ["Glamdring", "And√∫ril", "Sting", "Orcrist"]
        },
        {
          question: "What is the name of the river that borders Mordor?",
          answer: "Anduin",
          options: ["Anduin", "Morgulduin", "Entwash", "Isen"]
        },
        {
          question: "What is the name of Th√©oden's horse?",
          answer: "Snowmane",
          options: ["Snowmane", "Shadowfax", "Arod", "Hasufel"]
        },
        {
          question: "What is the name of the pass where Shelob lives?",
          answer: "Cirith Ungol",
          options: ["Cirith Ungol", "Morgul Vale", "Caradhras", "High Pass"]
        },
        {
          question: "What is the name of the tower in Minas Morgul?",
          answer: "Tower of the Moon",
          options: ["Tower of the Moon", "Dark Tower", "Tower of Sorcery", "Black Tower"]
        },
        {
          question: "What is the name of the bridge in Osgiliath?",
          answer: "Great Bridge",
          options: ["Great Bridge", "Stone Bridge", "River Bridge", "Old Bridge"]
        },
        {
          question: "What is the name of the mountain where the Paths of the Dead begin?",
          answer: "Dwimorberg",
          options: ["Dwimorberg", "Haunted Mountain", "Dark Mountain", "Dead Mountain"]
        },
        {
          question: "What is the name of the sword that belonged to the Witch-king?",
          answer: "Morgul-blade",
          options: ["Morgul-blade", "Black Sword", "Death Blade", "Shadow Sword"]
        },
        {
          question: "What is the name of the river that flows through the Dead Marshes?",
          answer: "Morgulduin",
          options: ["Morgulduin", "Dead River", "Black River", "Shadow Stream"]
        },
        {
          question: "What is the name of the mountain where the Beacons end?",
          answer: "Halifirien",
          options: ["Halifirien", "Calenhad", "Nardol", "Min-Rimmon"]
        },
        {
          question: "What is the name of √âomer's horse?",
          answer: "Firefoot",
          options: ["Firefoot", "Shadowfax", "Arod", "Hasufel"]
        },
        {
          question: "What is the name of the bridge in Helm's Deep?",
          answer: "Deeping Wall",
          options: ["Deeping Wall", "Hornburg Bridge", "Deep Bridge", "Stone Bridge"]
        },
        {
          question: "What is the name of the mountain where the Ring-wraiths are first seen?",
          answer: "Weathertop",
          options: ["Weathertop", "Amon S√ªl", "Watch Hill", "Guard Mount"]
        },
        {
          question: "What is the name of the sword that √âowyn uses?",
          answer: "Herugrim",
          options: ["Herugrim", "G√∫thwin√´", "And√∫ril", "Glamdring"]
        }
      ];

      let score = 0;
      let lives = 3;
      let currentProblem = {};
      let usedQuestions = new Set();
      let isMusicPlaying = false;

      const bgMusic = document.getElementById('bgMusic');
      const audioSlider = document.getElementById('audioSlider');

      bgMusic.addEventListener('timeupdate', () => {
        const percentage = (bgMusic.currentTime / bgMusic.duration) * 100;
        audioSlider.value = percentage;
      });

      audioSlider.addEventListener('input', () => {
        const time = (audioSlider.value / 100) * bgMusic.duration;
        bgMusic.currentTime = time;
      });

      function toggleMusic() {
        const musicBtn = document.getElementById('musicBtn');
        
        if (isMusicPlaying) {
          bgMusic.pause();
          musicBtn.textContent = 'üîä';
        } else {
          bgMusic.play().catch(e => console.log("Audio play failed:", e));
          musicBtn.textContent = 'üîá';
        }
        isMusicPlaying = !isMusicPlaying;
      }

      function generateProblem() {
        if (usedQuestions.size === lotrQuestions.length) {
          usedQuestions.clear();
        }
        
        let availableQuestions = lotrQuestions.filter((_, index) => !usedQuestions.has(index));
        let randomIndex = Math.floor(Math.random() * availableQuestions.length);
        let questionIndex = lotrQuestions.indexOf(availableQuestions[randomIndex]);
        
        usedQuestions.add(questionIndex);
        return lotrQuestions[questionIndex];
      }

      function updateUI() {
        document.getElementById("problem").textContent = currentProblem.question;
        const optionsContainer = document.getElementById("options");
        optionsContainer.innerHTML = "";

        let shuffledOptions = [...currentProblem.options];
        for (let i = shuffledOptions.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [shuffledOptions[i], shuffledOptions[j]] = [shuffledOptions[j], shuffledOptions[i]];
        }

        shuffledOptions.forEach((option) => {
          const button = document.createElement("button");
          button.className = "option";
          button.textContent = option;
          button.onclick = () => checkAnswer(option);
          optionsContainer.appendChild(button);
        });

        document.getElementById("score").textContent = score;
        document.getElementById("lives").textContent = lives;
      }

      function checkAnswer(selectedAnswer) {
        if (selectedAnswer === currentProblem.answer) {
          score++;
          if (score === 10) {
            showModal("Congratulations! üéâ", 
              `You won the game! You answered all 10 questions correctly!`);
            return;
          }
        } else {
          lives--;
          if (lives === 0) {
            showModal("Game Over üò¢",
              `You ran out of lives! You got ${score} questions correct.`);
            return;
          }
        }

        currentProblem = generateProblem();
        updateUI();
      }

      function showModal(title, message) {
        document.getElementById("modalTitle").textContent = title;
        document.getElementById("modalMessage").textContent = message;
        document.getElementById("gameModal").style.display = "flex";
      }

      function resetGame() {
        score = 0;
        lives = 3;
        usedQuestions.clear();
        document.getElementById("gameModal").style.display = "none";
        currentProblem = generateProblem();
        updateUI();
      }

      // Start the game when page loads
      document.addEventListener('DOMContentLoaded', function() {
        resetGame();
      });
    </script>
  </body>
</html>